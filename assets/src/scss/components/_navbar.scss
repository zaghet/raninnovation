.site-header__bottom{

    div.wrapper-menu-mobile{
        background-color: #fff;
        height: calc(100vh - 200px);
    }
    div[data-simplebar="init"]{
        height: 100%;
        overflow-x: hidden;
    }
    &.fixed-top{
        div.wrapper-menu-mobile{
            height: calc(100vh - 80px);
        }
    }

    .navbar-toggler{
        &[aria-expanded="true"] .navbar-toggler-icon{
            background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg'%3E%3Cg class='layer'%3E%3Ctitle%3ELayer 1%3C/title%3E%3Cpath d='m4.65 4.65a0.5 0.5 0 0 1 0.7 0l2.65 2.64l2.65 -2.64a0.5 0.5 0 0 1 0.7 0.7l-2.64 2.65l2.64 2.65a0.5 0.5 0 0 1 -0.7 0.7l-2.65 -2.64l-2.65 2.64a0.5 0.5 0 0 1 -0.7 -0.7l2.64 -2.65l-2.64 -2.65a0.5 0.5 0 0 1 0 -0.7' fill='%232b2b2b' fill-opacity='0.75' id='svg_1'/%3E%3C/g%3E%3C/svg%3E");
            transform: scale(1.4);
        }
        &.collapsed .navbar-toggler-icon{
            background-image: var(--bs-navbar-toggler-icon-bg);
        }
    }
}

nav.navbar {
    .navbar-collapse{
        a{
            &:hover{
                text-decoration: none !important;
            }
        }
    }
    .navbar-collapse.collapse.show{
        margin-top: 1rem;
    }
    ul.navbar-nav {
        & > li {
            
            &, li {list-style: none}
            

            a.nav-link{
                // font-size: $font-size-sm;
                color: $gray-500;
                --bs-navbar-nav-link-padding-x: .8rem;
            }
            a:active, a:hover, a:visited{
                text-decoration: none;
            }
            .dropdown-toggle{
                padding-right: 2.5rem;
                position: relative;

                &::after{
                    background-image: url(@/img/chevron-down.svg);
                    background-repeat: no-repeat;
                    border: 0;
                    width: 1rem;
                    height: 1rem;
                    transition: all 0.3s ease-in-out;
                    transform-origin: center center;
                    position: absolute;
                    right: 0.5rem;
                }
            }
            .dropdown-toggle.show::after{
                transform: rotate(180deg);
                margin-top: .2rem;
            }

            // mobile
            &.menu-item-has-children {
                ul.dropdown-menu.mobilemenu{
                    border: 0;
                    --bs-dropdown-padding-x: 0.4rem;
                    // ul.dropdown-menu{
                    //     --bs-dropdown-padding-x: 0.4rem;
                    // }
                    a.dropdown-item{
                        --bs-dropdown-item-padding-x: 0.4rem;
                        --bs-dropdown-item-border-radius: 0.4rem;
                    }
                }
            
            }

            // Megamenu
            &.has-megamenu,
            &.menu-item-has-children {
                .dropdown-menu.megamenu[data-bs-popper]{
                    margin-top: 0px;
                    --bs-dropdown-border-width: 0px;
                }
                @include media-breakpoint-up(lg) {
                    position: static !important;
                    
                    ul.megamenu{
                        position: absolute !important;
                        --bs-dropdown-padding-x: 0;
                        --bs-dropdown-padding-y: 0;
                    }
                }
                
                ul.megamenu,
                ul.normalmenu {
                    background-color: #fff;
                    @extend .shadow;

                    ul.sub-menu{
                        padding-left: 0;
                        .dropdown-item{
                            // --bs-dropdown-item-padding-y:0;
                            --bs-dropdown-item-padding-x: 0.4rem;
                        }

                        .menu-item[class*="fs-"] * {
                            font-weight: unset;
                        }
                    }

                    .megamenu-sidebar {
                        position: relative;
                        background-color: $blue-900;
                        color: #fff !important;
                        --bs-heading-color: #fff;
                        --bs-dropdown-color: #fff;
                        --bs-body-color: #fff;
                        h5{
                            line-height: 1.3;
                        }
                        p{
                            color: #fff;
                        }
                        a{
                            color: #fff;
                        }
                        .icon{
                            position: absolute;
                            width: 1.2rem;
                            height: auto;
                            margin-left: -1.8rem;
                            transform: translateY(5px);
                        }
                        &::after{
                            content: "";
                            position: absolute;
                            top: 0;
                            left: 100%;
                            width: calc( ((100vw - 480%) / 2));
                            height: 100%;
                            background-color: $blue-900;

                        }
                    } // megamenu-sidebar

                    @include media-breakpoint-down(lg) {
                        .megamenu-sidebar,
                        .megamenu-section,
                        .megamenu-list-title{
                            display: none;
                        }
                        .dropdown-menu.show{
                            position: relative;
                        }
                        
                    }

                    .megamenu-section {

                        h4{
                            color: $gray-900;
                            line-height: 1.2rem;
                            font-size: 1.2rem;
                            a:hover{
                                text-decoration: underline !important;

                            }

                        }
                        p{
                            color: $gray-500;
                            margin-bottom: 0 !important;
                            font-size: $font-size-xs;
                        }
                    } // megamenu-sidebar

                    .megamenu-content {

                        h5{
                            color: $gray-900;
                            line-height: 1.2rem;
                            font-size: 1rem;
                        }
                        @include media-breakpoint-up(lg) {
                            .megamenu-items {
                                -webkit-column-gap: 0.5rem;
                                column-gap: 0.5rem;
                                -webkit-columns: 2;
                                columns: 2;
                            }
                        }
                        .megamenu-items {
                            font-size: $font-size-sm;
                            z-index: 1;
                            width: 100%;
                            
                            
                            list-style: none;

                            li {
                                break-inside: avoid-column;
                                margin-bottom: 0.5rem;
                                padding: 0 !important;
                                

                                a.dropdown-item{
                                    --bs-dropdown-item-padding-x: 0.6rem;
                                    --bs-dropdown-item-padding-y: 0.6rem;
                                    --bs-dropdown-item-border-radius: 0.4rem;
                                    
                                    &:hover,
                                    &:visited,
                                    &:focus
                                    &.active {
                                        background-color: $blue-200;
                                        text-decoration: none;
                                    }
                                    > span {
                                        color: $blue-700;
                                    }
                                    span{
                                        white-space: wrap;
                                        margin-left: 1.8rem;
                                    }
                                    img {
                                        transition: all 0.3s ease;
                                        width: 1rem;
                                        height: 1rem;
                                        position: absolute;
                                    }
                                }
                            }
                        }
                    } // menu-content

                    .dropdown-item{
                        @extend .rounded;
                    }

                    // styles colonne
                    .megamenu-col-wrapper, .megamenu-drophover-wrapper{
                        .card-banner-img{
                            width: 100%;
                            min-width: 135px;
                            max-width: 250px;
                        }
                    }
                    .megamenu-col-wrapper > *, .megamenu-drophover-wrapper > * { 
                        flex: 1 100%;
                        @extend .border-end, .px-5;

                        &:first-child {
                            padding-left: 0 !important;
                        }
                        &:last-child {
                            padding-right: 0 !important;
                            border: 0 !important;
                        }

                        .min-image{
                            min-width: 135px;
                        }
                    } 
                    
                    .megamenu-drophover-wrapper{
                        .dropdown-menu.sub-menu{
                            left: 100%;
                            top: 0;
                            opacity: 0;
                            height: 0;
                            overflow: hidden;
                            transition: opacity 0.3s ease;
                            &.show{
                                overflow: visible;
                                opacity: 1;
                                height: auto;
                                border-radius: 0 var(--bs-dropdown-border-radius) var(--bs-dropdown-border-radius) var(--bs-dropdown-border-radius);
                            }
                        }
                        &.megamenu-fixed-left, &.megamenu-fixed-right {
                                &.show{
                                    height: 100vh;
                                }
                        }
                    }

                    @include media-breakpoint-up(lg) {

                        &.megamenu{
                            display: block !important;
                            transition: opacity 0.5s ease, transform 0.3s ease, height 0.5s ease, padding 0.5s ease;
                            opacity: 0;
                            height: 0;
                            overflow: hidden;

                            &.show{
                                opacity: 1;
                                height: auto;
                            }
                            &.megamenu-fixed-left, &.megamenu-fixed-right {
                                &.show{
                                    height: 100vh;
                                }
                            }
                        }
                        
                        &-centered {
                            --bs-dropdown-min-width: 25em;
                            transform: translateX( calc(-50% )) translateY(-4rem);

                            &.show{
                                transform: translateX( calc(-50% )) translateY(-2rem);
                            }
                        
                            left: inherit;
                            right: inherit;
                        }
                        &-full {
                            left: 0;
                            right: 0;
                        }
                        &-fixed-left, &-fixed-right {
                            top: 0;
                            position: fixed !important;
                            height: 100vh;
                            transition: transform 0.3s;
                        }
                        &-fixed-left{
                            transform: translateX(-100%);
                            left: 0;
                        }
                        &-fixed-right {
                            transform: translateX(100%);
                            right: 0;
                            left: inherit;
                        }
                        &-fixed-left.show, &-fixed-right.show {
                            transform: translateX(0);
                        }
                        z-index: 2000;
                        border: none !important;                       
                    }
                } // megamenu
            } // has-megamenu
        }
    }   
}

